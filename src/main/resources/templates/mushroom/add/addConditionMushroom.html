<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
<head></head>
<th:block layout:fragment="customJs">
  <script th:src="@{/js/jquery-3.6.4.js}"></script>
  <script>
    $(function() {
      //alert('제이쿼리')
      function validationCheck(ele) {
        let data = $(ele).val();
        let isValid = true;
        if (typeof data == 'undefined' || data == null || data == '') {
          isValid = false;
        }
        return isValid;
      }


      $('#submitBtn').click(function () {
        const addConditionMushroomForm = $('#addConditionMushroomForm');
        const inputGroup = $('#addConditionMushroomForm input');
        let isSubmit = true;
        inputGroup.each(function (idx, item) {
          isSubmit = validationCheck(item);
          if (!isSubmit) {
            let msg = $(item).parents('tr').find('label').text();
            alert(msg + '입력해주세요.');
            $(item).focus();
            return false;
          }

        });
        if (isSubmit) addConditionMushroomForm.submit();
      });
    });

  </script>
</th:block>

<th:block layout:fragment="customContent">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <h2 class="my-4">버섯 생육 최적조건 </h2>
        <form id="addConditionMushroomForm" th:action="@{/mushroom/add/addConditionMushroom}" method="post">
          <table class="table table-striped table-bordered table-hover">

            <tbody>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionIdx">버섯종류 코드</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionIdx"
                       name="mushroomConditionIdx" placeholder=" ???을 입력해주세요."  />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="cropIdx">작물 코드</label>
              </td>

              <td colspan="2">
                <select id="cropIdx" name="cropIdx">
                  <th:block th:each="Crop : ${Crop}">
                    <option th:value="${Crop.cropIdxInfo}">[[${crop}]]</option>
                  </th:block>
                </select>
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionTemperature">온도</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionTemperature"
                       name="mushroomConditionTemperature" placeholder="  온도" />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionHumidity">습도</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionHumidity"
                       name="mushroomConditionHumidity" placeholder="  습도" />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionOxygen">산소</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionOxygen"
                       name="mushroomConditionOxygen" placeholder="  산소" />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionCo2">이산화탄소농도</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionCo2"
                       name="mushroomConditionCo2" placeholder="  이산화탄소농도" />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionIlluminance">조도</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionIlluminance"
                       name="mushroomConditionIlluminance" placeholder="  조도"  />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionPh">수소 이온 농도지수</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionPh"
                       name="mushroomConditionPh" placeholder="  수소 이온 농도지수 " />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionYear">년도</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionYear"
                       name="mushroomConditionYear" placeholder=" 년도 " />
              </td>
            </tr>
            <tr>
              <td class="labeltd">
                <label for="mushroomConditionUse">사용여부</label>
              </td>
              <td colspan="2">
                <input type="text" id="mushroomConditionUse"
                       name="mushroomConditionUse" placeholder=" 사용여부 " />
              </td>
            </tr>



            <tr>
                <td colspan="3">
                  <button type="button" id="submitBtn" >등록</button>
                  <button type="reset" id="resetBtn" >입력취소</button>
                </td>
              </tr>
            </tbody>
          </table>
        </form>
      </div>
    </div>
  </div>
</th:block>
</html>
